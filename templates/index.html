<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="RufiTrendz â€“ Curated collections of quirky, elegant lifestyle products across decor, wellness, beauty, gadgets, and accessories.">
  <title>RufiTrendz</title>

  <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Open+Sans&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet"/>
<style>
  :root {
    --dark-green: #013220;
    --dark-maroon: #6b1e1e;
    --light-bg: #f5f5f5;
    --font-title: 'Playfair Display', serif;
    --font-body: 'Open Sans', sans-serif;
  }

  body {
    font-family: var(--font-body);
    background-color: var(--light-bg);
    color: #222;
  }

  header {
    background-color: var(--dark-green);
    color: white;
    padding: 20px 40px;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  header h1 {
    font-family: 'Abril Fatface', serif;
    font-size: 28px;
    margin: 0;
  }

  .brand-link {
    color: white;
    text-decoration: none;
  }

  .brand-link:hover {
    color: var(--dark-maroon);
  }

  .nav-section {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    margin-top: 10px;
  }

  .left-nav {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .right-nav nav a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    margin: 0 12px;
  }

  .right-nav nav a:hover,
  .dropdown-menu a:hover {
    color: var(--dark-maroon);
  }

  .dropdown-menu {
    min-width: 180px;
  }

  .search-header-form {
    display: flex;
    gap: 6px;
    align-items: center;
  }

  .search-header-form input {
    padding: 6px 10px;
    border-radius: 4px;
    border: none;
    min-width: 200px;
  }

  .search-header-form button {
    border: none;
    background-color: white;
    color: var(--dark-green);
    border-radius: 4px;
    padding: 6px 10px;
    font-size: 16px;
  }

  .search-header-form button:hover {
    background-color: var(--dark-maroon);
    color: white;
  }

  .section {
    padding: 60px 40px;
    text-align: center;
  }

  .section h3 {
    font-size: 32px;
    color: var(--dark-green);
    margin-bottom: 30px;
    font-family: var(--font-title);
  }

  .card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    transition: transform 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .card:hover {
    transform: translateY(-5px);
  }

  .image-wrapper {
    position: relative;
    background-color: #fff;
    height: 220px;
    border-radius: 10px 10px 0 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-wrapper img {
    height: 100%;
    width: auto;
    object-fit: contain;
    display: block;
  }

  .product-carousel {
    position: relative;
    border-radius: 10px 10px 0 0;
    overflow: hidden;
    max-height: 220px;
  }

  .carousel-overlay {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 15%;
    background: transparent;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 2;
  }

  .carousel-control-prev.carousel-overlay {
    left: 0;
  }

  .carousel-control-next.carousel-overlay {
    right: 0;
  }

  .product-carousel:hover .carousel-overlay {
    opacity: 1;
  }

.carousel-control-prev-icon,
.carousel-control-next-icon {
  display: inline-block;
  width: 2rem;
  height: 2rem;
  background-color: lightblue;
  background-image: none;
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

.carousel-control-prev-icon {
  mask-image: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath d='M4.354 1.646a.5.5 0 010 .708L2.707 4l1.647 1.646a.5.5 0 11-.708.708l-2-2a.5.5 0 010-.708l2-2a.5.5 0 01.708 0z'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath d='M4.354 1.646a.5.5 0 010 .708L2.707 4l1.647 1.646a.5.5 0 11-.708.708l-2-2a.5.5 0 010-.708l2-2a.5.5 0 01.708 0z'/%3E%3C/svg%3E");
}

.carousel-control-next-icon {
  mask-image: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath d='M3.646 1.646a.5.5 0 000 .708L5.293 4 3.646 5.646a.5.5 0 10.708.708l2-2a.5.5 0 000-.708l-2-2a.5.5 0 00-.708 0z'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath d='M3.646 1.646a.5.5 0 000 .708L5.293 4 3.646 5.646a.5.5 0 10.708.708l2-2a.5.5 0 000-.708l-2-2a.5.5 0 00-.708 0z'/%3E%3C/svg%3E");
}



  .price-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #013220;
    color: white;
    padding: 5px 10px;
    font-weight: bold;
    border-radius: 6px;
    font-size: 14px;
    z-index: 10;
  }

  .card h5 {
    margin: 10px 0 5px;
    font-size: 18px;
    color: var(--dark-maroon);
  }

  .about {
    max-width: 800px;
    margin: auto;
    font-size: 18px;
    line-height: 1.6;
  }

  .button {
    width: 100%;
    min-height: 36px;
    padding: 6px 12px;
    background-image: linear-gradient(rgb(214, 202, 254), rgb(158, 129, 254));
    border: none;
    border-radius: 50px;
    color: #fff;
    font-weight: 600;
    font-size: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    cursor: pointer;
    box-shadow: 1px 2px 0px rgb(139, 113, 255);
    transition: all 0.3s ease;
    text-decoration: none;
    white-space: nowrap;
    text-align: center;
  }

  .cartIcon {
    width: 14px;
    height: fit-content;
  }

  .cartIcon path {
    fill: white;
  }

  .button:active {
    transform: translate(2px ,0px);
    box-shadow: 0px 1px 0px rgb(139, 113, 255);
    padding-bottom: 1px;
  }

  footer {
    background: var(--dark-maroon);
    color: white;
    text-align: center;
    padding: 10px;
    font-size: 14px;
  }

  .socials a {
    margin: 0 10px;
    color: white;
    text-decoration: none;
    font-size: 20px;
  }

  #scrollTopBtn {
    display: none;
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 99;
    font-size: 22px;
    border: none;
    outline: none;
    background-color: var(--dark-green);
    color: white;
    cursor: pointer;
    padding: 12px 16px;
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    transition: background-color 0.3s ease;
  }

  #scrollTopBtn:hover {
    background-color: #025a38;
  }

  .read-more-btn {
    color: var(--dark-green);
    background: none;
    border: none;
    font-weight: bold;
    cursor: pointer;
    padding: 0;
    font-size: 14px;
  }

  footer a {
    color: #fff;
    text-decoration: none;
  }

  footer a:hover {
    color: #ddd;
    text-decoration: underline;
  }

  footer a:visited {
    color: #fff;
  }

  .centered-banner-img {
    width: 100%;
    height: auto;
    max-height: 480px;
    object-fit: cover;
    border-radius: 12px;
  }

  @media (max-width: 768px) {
    header {
      flex-direction: column;
      align-items: flex-start;
      padding: 15px 20px;
    }

    .search-header-form input {
      width: 100%;
    }

    .search-header-form {
      flex-direction: column;
      align-items: stretch;
      width: 100%;
    }

    .nav-section,
    .right-nav nav {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }

    .right-nav nav a {
      margin: 5px 0;
    }

    .section {
      padding: 40px 20px;
    }

    .image-wrapper {
      height: 180px;
    }

    .about {
      padding: 0 10px;
      font-size: 16px;
    }

    .card h5 {
      font-size: 16px;
    }

    .btn-sm-custom {
      font-size: 12px;
      padding: 6px 12px;
    }
  }
</style>


</head>
<body>
<header>
  <div class="d-flex flex-wrap align-items-center justify-content-between w-100 gap-3">
    
    <!-- Logo -->
    <a href="/" class="d-inline-block me-3">
      <img src="{{ url_for('static', filename='uploads/mini.png') }}"
           alt="Rufi Trendz Logo"
           style="height: 60px; width: auto;">
    </a>

    <!-- Search Box -->
<form method="get" class="search-header-form me-auto" id="searchForm">
  <input type="text" name="search" id="searchInput" placeholder="Search..." value="{{ request.args.get('search', '') }}">
  <button type="submit" title="Search"><i class="bi bi-search"></i></button>
  <button type="button" id="micButton" title="Speak" style="background: none; border: none; font-size: 18px; color: white;">
    <i class="bi bi-mic-fill"></i>
  </button>
</form>


    <!-- Navigation Links -->
    <div class="right-nav">
      <nav class="d-flex align-items-center flex-wrap gap-3">
        <a href="https://shopify.com/authentication/94147182906/login?client_id=098fba95-0b80-4308-be87-505414599de1&locale=en&redirect_uri=https%3A%2F%2Fshopify.com%2Fauthentication%2F94147182906%2Foauth%2Fauthorize%3Fclient_id%3D098fba95-0b80-4308-be87-505414599de1%26locale%3Den%26nonce%3Da454f0f2-0257-4b23-a7a3-79ed147d46d6%26redirect_uri%3Dhttps%253A%252F%252Fshopify.com%252F94147182906%252Faccount%252Fcallback%253Fsource%253Dcore%26response_type%3Dcode%26scope%3Dopenid%2Bemail%2Bcustomer-account-api%253Afull%26state%3D01JYHFH2N2BFSS185MWRPWKZ32"  >Login|Signup</a>
        <a href="/">Home</a>
        <a href="#about">About</a>
        <a href="https://rufitrendz.online/pages/contact">Contact</a>
      </nav>
    </div>
  </div>

  <!-- Categories Dropdown (below nav row) -->
  {% if categories %}
  <div class="mt-3">
    <div class="dropdown">
      <a class="dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown">
        Categories
      </a>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="/">All</a></li>
        {% for cat in categories %}
        <li><a class="dropdown-item" href="/?category={{ cat|lower }}">{{ cat }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}
</header>

{% if banners %}
<section class="py-4">
  <div class="container">
    <div id="centerBannerCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
      <div class="carousel-inner rounded-3 shadow-sm overflow-hidden">
        {% for banner in banners %}
        <div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
          <a href="{{ banner.link or '#' }}">
            <img src="{{ url_for('static', filename='banners/' + banner.filename) }}" 
                 class="d-block w-100 centered-banner-img" 
                 alt="Banner {{ loop.index }}">
          </a>
        </div>
        {% endfor %}
      </div>

      {% if banners|length > 1 %}
      <button class="carousel-control-prev" type="button" data-bs-target="#centerBannerCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#centerBannerCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
      {% endif %}
    </div>
  </div>
</section>
{% endif %}


<div class="container py-5">
  {% if products %}
  <div class="row">
    {% for product in products %}
    <div class="col-md-4 col-sm-6 mb-4">
      <div class="card h-100 text-center shadow-sm border-0">

        <!-- Product Carousel with know_more link -->
        {% set images = product.images.split(',') %}
        {% if images %}
        <a href="{{ product.know_more or '#' }}" class="text-decoration-none">
          <div id="carousel-{{ product.id }}" class="carousel slide product-carousel">
            <div class="carousel-inner">
              {% for img in images %}
              <div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
                <div class="image-wrapper">
                  <img src="{{ url_for('static', filename='uploads/' + img) }}"
                       alt="{{ product.name }}"
                       loading="eager"
                       decoding="async"
                       class="w-100"
                       style="object-fit: contain; height: 220px;">
                </div>
              </div>
              {% endfor %}
            </div>

            {% if images|length > 1 %}
            <button class="carousel-control-prev carousel-overlay" type="button" data-bs-target="#carousel-{{ product.id }}" data-bs-slide="prev">
              <span class="carousel-control-prev-icon"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next carousel-overlay" type="button" data-bs-target="#carousel-{{ product.id }}" data-bs-slide="next">
              <span class="carousel-control-next-icon"></span>
              <span class="visually-hidden">Next</span>
            </button>
            {% endif %}
          </div>
        </a>
        {% endif %}

        <!-- Product Details -->
        <div class="card-body text-start">
          <a href="{{ product.know_more or '#' }}" class="text-decoration-none text-dark">
            <h5 class="card-title mb-1">{{ product.name }}</h5>
            <p class="fw-bold mb-1">â‚¹{{ product.price }}</p>
          </a>

          {% set rating = "%.1f"|format(product.rating or 0) %}
          <div class="d-flex align-items-center mb-1">
            <span class="me-2" style="color: #000; font-size: 15px;">Reviews</span>
            <div style="
              background-color: #ff4545;
              color: #fff;
              font-weight: 600;
              padding: 3px 10px;
              border-radius: 20px;
              font-size: 14px;
              display: flex;
              align-items: center;">
              <span>{{ rating }}</span>
              <span style="font-size: 14px; margin-left: 5px;">&#9733;</span>
            </div>
          </div>
        </div>

      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="text-center">No products available.</p>
  {% endif %}
</div>


<footer id="contact">
  <p>
    Contact us:
    <a href="tel:+919606888430" style="color:#fff;">96068-88430</a> |
    <a href="mailto:support@rufitrrendz.online" style="color:#fff;">support@rufitrrendz.online</a>
  </p>
  <div class="socials" style="margin: 10px 0;">
    <a href="https://instagram.com/rufitrendz" >Instagram</a> |
    <a href="https://www.facebook.com/people/Rufi-Trendz/61561238205580/">Facebook</a> |
    <a href="https://t.me/+HgH8PeaquBA0OWI1" >Telegram</a> |
 <a href="https://whatsapp.com/channel/0029VbAksvq17EmsiMQm7k1q" >WhatsApp</a>

  </div>
<p style="margin-top: 20px;">
  &copy; 2025, <strong>RUFITRENDZ</strong> |
  <a href="{{ url_for('faq') }}" style="text-decoration: none; color: inherit;">FAQ</a> |
  <a href="{{ url_for('privacy') }}" style="text-decoration: none; color: inherit;">Privacy Policy</a> |
  <a href="{{ url_for('refund') }}" style="text-decoration: none; color: inherit;">Refund Policy</a> |
  <a href="{{ url_for('terms') }}" style="text-decoration: none; color: inherit;">Terms of Service</a> |
  <a href="{{ url_for('shipping') }}" style="text-decoration: none; color: inherit;">Shipping Policy</a> |
  <a href="https://rufitrendz.online/pages/contact" style="text-decoration: none; color: inherit;">Contact Information</a>
</p>
</footer>

<!-- Visitor Info Popup Modal -->
<div class="modal fade" id="visitorPopup" tabindex="-1" aria-labelledby="visitorPopupLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="border-radius: 12px; overflow: hidden;">
      <form action="{{ url_for('record_visitor') }}" method="POST">

        <!-- Modal Header (Green) -->
        <div class="modal-header" style="background-color: #013220; color: #fff;">
          <h5 class="modal-title" id="visitorPopupLabel">Welcome to RufiTrendz!</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <!-- Modal Body (Light Green Background & Green Text) -->
        <div class="modal-body" style="background-color: #e6f2ec; color: #013220;">
          <p class="mb-3" style="font-weight: 500;">
            We'd love to connect with you! Please fill in your details:
          </p>

          <div class="mb-3">
            <label for="visitorName" class="form-label" style="color: #013220;">Name</label>
            <input type="text" name="name" class="form-control" id="visitorName" required>
          </div>

          <div class="mb-3">
            <label for="visitorEmail" class="form-label" style="color: #013220;">Email</label>
            <input type="email" name="email" class="form-control" id="visitorEmail" required>
          </div>

          <div class="mb-3">
            <label for="visitorMobile" class="form-label" style="color: #013220;">Mobile</label>
            <input type="text" name="mobile" class="form-control" id="visitorMobile" required 
                   oninput="this.value = this.value.replace(/[^0-9]/g, '')">
          </div>
        </div>

        <!-- Modal Footer (Maroon) -->
        <div class="modal-footer" style="background-color: #6b1e1e;">

          <!-- Submit Button -->
          <button type="submit" class="btn"
            style="background-color: white; color: #013220; border: 2px solid #013220; border-radius: 6px; font-weight: bold;"
            onmouseover="this.style.backgroundColor='#013220'; this.style.color='white';"
            onmouseout="this.style.backgroundColor='white'; this.style.color='#013220';">
            Submit
          </button>

          <!-- Skip Button -->
          <button type="button" class="btn" data-bs-dismiss="modal"
            style="background-color: white; color: #013220; border: 2px solid #6b1e1e; border-radius: 6px; font-weight: bold;"
            onmouseover="this.style.backgroundColor='#6b1e1e'; this.style.color='white';"
            onmouseout="this.style.backgroundColor='white'; this.style.color='#6b1e1e';">
            Skip
          </button>

        </div>

      </form>
    </div>
  </div>
</div>



<!-- Scroll-to-Top Button -->
<button id="scrollTopBtn" title="Go to top">&#8679;</button>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Scroll-to-Top Button Logic
  window.onscroll = function () {
    const btn = document.getElementById("scrollTopBtn");
    btn.style.display = (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) ? "block" : "none";
  };

  document.getElementById("scrollTopBtn").addEventListener("click", function () {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  // Read More Toggle for Product Descriptions
  function toggleDescription(button) {
    const cardText = button.closest(".card-text");
    const shortDesc = cardText.querySelector(".short-desc");
    const fullDesc = cardText.querySelector(".full-desc");

    if (fullDesc.classList.contains("d-none")) {
      shortDesc.style.display = "none";
      fullDesc.classList.remove("d-none");
      button.innerText = "Read Less";
    } else {
      shortDesc.style.display = "inline";
      fullDesc.classList.add("d-none");
      button.innerText = "Read More";
    }
  }

  // Visitor Modal Logic (Show once per browser, 8s delay)
  window.addEventListener('load', () => {
    if (!localStorage.getItem('visitor_submitted')) {
      setTimeout(() => {
        const visitorModal = new bootstrap.Modal(document.getElementById('visitorPopup'));
        visitorModal.show();
      }, 8000); // Delay of 8 seconds
    }
  });

  document.addEventListener('DOMContentLoaded', () => {
    const visitorForm = document.querySelector('#visitorPopup form');
    const modalEl = document.getElementById('visitorPopup');

    // Set flag on form submission
    if (visitorForm) {
      visitorForm.addEventListener('submit', () => {
        localStorage.setItem('visitor_submitted', 'true');
      });
    }

    // Also set flag on manual dismissal (skip/close)
    if (modalEl) {
      modalEl.addEventListener('hidden.bs.modal', () => {
        localStorage.setItem('visitor_submitted', 'true');
      });
    }

    // Independent Product Carousels with Random Intervals (2s to 5s) and staggered start
    const carousels = document.querySelectorAll('.product-carousel');

    carousels.forEach((carousel) => {
      const interval = Math.floor(Math.random() * 2000) + 4000; // 4000ms to 6000ms
      const delay = Math.floor(Math.random() * 2000) + 4000;    // 4000ms to 6000ms


      setTimeout(() => {
        new bootstrap.Carousel(carousel, {
          interval: interval,
          ride: 'carousel',
          wrap: true,
          pause: false
        });
      }, delay);
    });
  });

  // Voice Search Integration
  const micButton = document.getElementById('micButton');
  const searchInput = document.getElementById('searchInput');
  const searchForm = document.getElementById('searchForm');

  if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();

    recognition.lang = 'en-IN';
    recognition.continuous = false;
    recognition.interimResults = false;

    micButton.addEventListener('click', () => {
      recognition.start();
      micButton.innerHTML = '<i class="bi bi-mic-mute-fill"></i>';
    });

    recognition.onresult = (event) => {
      const transcript = event.results[0][0].transcript;
      searchInput.value = transcript;
      searchForm.submit();
    };

    recognition.onend = () => {
      micButton.innerHTML = '<i class="bi bi-mic-fill"></i>';
    };

    recognition.onerror = (event) => {
      console.error("Speech recognition error:", event.error);
      micButton.innerHTML = '<i class="bi bi-mic-fill"></i>';
    };
  } else {
    micButton.style.display = 'none';
    console.warn("Voice recognition not supported on this browser.");
  }
</script>
</body>
</html>
